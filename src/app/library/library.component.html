<main>
  <!--HEADER -->
  <header>
    <div class="m-5 d-flex justify-content-center">
      <img src="https://svgsilh.com/svg/42932-55dbcb.svg" width="250px" />
    </div>
  </header>

  <!-- LOADING -->
  <div class="d-flex justify-content-center mt-5" *ngIf="!isLoaded">
    Loading...
  </div>

  <!-- MAIN -->
  <div class="library">
    <div id="Library" *ngIf="isLoaded === true">
      <nz-affix>
        <div class="Search">
          <nz-divider nzText="Books-List" id="subNz"></nz-divider>
          <div id="searchBar">
            <span class="searchText">Campus: </span>
            <select
              class="Filters"
              id="filterSchool"
              (change)="filterProcess()"
            >
              <option>No filter </option
              ><option>Liège </option
              ><option>Bruxelles </option
              ><option>Charleroi </option>
            </select>

            <span class="searchText">Language: </span>
            <select
              class="Filters"
              id="filterLang"
              (change)="filterLangProcess()"
            >
              <option>No filter </option>
              <option>Français </option
              ><option>English </option></select
            >

            <span class="searchText">Availability: </span>
            <select
              class="Filters"
              id="filterAvailable"
              (change)="filterAvailableProcess()"
              ><option>No filter </option>
              <option>Available </option
              ><option>Not available </option></select
            >
          </div>
          <nz-divider id="subNz2"></nz-divider>
        </div>
      </nz-affix>

      <div class="Library-Dock" *ngFor="let element of books; let i = index">
        <div
          routerLink="/article/{{ element.isbn }}"
          routerLinkActive="active"
          class="main-book main-book-{{ i }} "
        >
          <div
            class="main-book  {{
              element.availabilities[0].available
            }}validity valiView"
          >
            <div
              class="main-book-cover-validity-one {{
                element.availabilities[0].available
              }}validity"
            ></div>
            <div
              class="main-book-cover-validity-two {{
                element.availabilities[0].available
              }}validity"
            ></div>
          </div>
          <img
            class="main-book-cover"
            *ngIf="element.cover; else elseBlock"
            src="{{ element.cover }}"
          />
          <ng-template #elseBlock
            ><img class="main-book-cover" src="../../assets/default.gif"
          /></ng-template>
          <div class="titleText">{{ element.title }}</div>
          <nz-rate
            [(ngModel)]="booksReviews[i]"
            nzAllowHalf
            nzDisabled
          ></nz-rate>
        </div>
      </div>
    </div>
  </div>

  <!-- BACK TO TOP -->
  <nz-back-top _ngcontent-docs-c17="" class="ng-tns-c20-83">
    <div
      class="ant-back-top ng-tns-c20-83 ng-trigger ng-trigger-fadeMotion ng-star-inserted"
    >
      <div class="ant-back-top-content ng-tns-c20-83 ng-star-inserted" style="">
        <div class="ant-back-top-icon"></div>
      </div>
    </div>
  </nz-back-top>
</main>
